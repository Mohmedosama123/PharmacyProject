@model IEnumerable<UserToReturnViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<main class="flex-grow-1">
    <div class="container py-4 py-md-5">


        <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
            <div>
                <h1 class="h2 mb-1">Pharmacy Dashboard</h1>
                <p class="text-muted">Manage your medications and pharmacy information</p>
            </div>
            <a href="index.html" class="btn btn-outline-primary">
                <i class="bi bi-box-arrow-right me-1"></i>
                Log Out
            </a>
        </div>


        <ul class="nav nav-tabs mb-4" id="pharmacyTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="medications-tab" data-bs-toggle="tab" data-bs-target="#medications-tab-pane" type="button" role="tab" aria-controls="medications-tab-pane" aria-selected="true">
                    Medications
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="add-tab" data-bs-toggle="tab" data-bs-target="#add-tab-pane" type="button" role="tab" aria-controls="add-tab-pane" aria-selected="false">
                    Add Medication
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">
                    Pharmacy Profile
                </button>
            </li>
        </ul>



        <div class="tab-content" id="pharmacyTabsContent">

            <!-- all Medican -->
            <div class="tab-pane fade show active" id="medications-tab-pane" role="tabpanel" aria-labelledby="medications-tab" tabindex="0">
              <div class="card">

                <div class="card-header bg-white d-flex justify-content-between align-items-center">
                  <h5 class="mb-0">Medications</h5>
                  <div class="input-group" style="max-width: 300px;">
                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                    <input type="text" class="form-control" id="medicationSearch" placeholder="Search medications...">
                  </div>
                </div>

                @*all user table *@
                <div class="card-body p-0">
                  <div class="table-responsive">
                    <table class="table table-hover mb-0">
                      <thead>
                        <tr>
                          <th>Image</th>
                          <th>User Name</th>
						  <th>Pharmacy Name </th>
                          <th>Owner Name</th>
                           <th>Email</th> 
                          <th class="text-end">Actions</th>
                        </tr>
                      </thead>
                       @if (Model.Count() > 0)
                       {
                           <tbody>
                               @foreach (var user in Model)
                               {
                                   <tr>
                                       <td>
                                           <div class="medication-img-sm">
                                                        <img src="@Url.Content("~/Images/" + (string.IsNullOrEmpty(user.ImageName) ? "OIP.jpg" : user.ImageName))" alt="@user.ImageName" class="img-fluid rounded">
                                                        @* <img src="/" alt="@user.ImageName" class="img-fluid rounded">  *@
                                           </div>
                                       </td>
                                       <td>@user.UserName</td>
                                       <td>@user.NameOfPharmacy</td>
                                       <td>@user.OwnerName</td>
                                       <td>@user.Email</td>
                                       <td class="text-end">
                                                <a class="btn btn-sm btn-outline-primary me-1" asp-controller="User" asp-action="Edit" asp-route-Id="@user.Id">
                                               <i class="bi bi-pencil me-1"></i>
                                               Edit
                                           </a>
                                           <button type="button" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteMedicationModal" data-medication-id="1" data-medication-name="Paracetamol">
                                               <i class="bi bi-trash me-1"></i>
                                               Delete
                                           </button>
                                       </td>
                                   </tr>
                               }
                           </tbody>
                       }
                       else
                       {
                           <tr>
                               <td colspan="6" class="text-center p-3">
                                   <div class="alert alert-warning mb-0" role="alert">
                                       No users found.
                                   </div>
                               </td>
                           </tr>
                       }
                     
                    </table>
                  </div>
                </div>
              </div>
            </div> 

        </div>
    </div>
</main>
